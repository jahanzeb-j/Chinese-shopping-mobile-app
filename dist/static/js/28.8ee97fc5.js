webpackJsonp([28],{CeBH:function(e,t,n){n("Out4");var i=n("VU/8")(n("NGBT"),n("LQ6e"),"data-v-68301891",null);e.exports=i.exports},LQ6e:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"setPassword"},[i("div",{staticClass:"setPassword-img clearfix"},[e._v("\n    重置密码\n    "),i("img",{attrs:{src:n("DVIo")},on:{click:function(t){e.back()}}})]),e._v(" "),i("div",{staticClass:"setPassword-line"}),e._v(" "),i("div",{staticClass:"setPassword-input"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.stop&&!e.ifRegister,expression:"!stop && !ifRegister"}],staticClass:"login-btn-time",on:{click:e.startTimer}},[e._v("获取验证码")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.stop,expression:"stop"}],staticClass:"login-btn-time1"},[e._v(e._s(e.timer)+"s")]),e._v(" "),i("div",{staticClass:"setPassword-input-admin"},[e._v(e._s(e.admin))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.verification,expression:"verification"}],staticClass:"setPassword-input-admin",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.verification},on:{input:function(t){t.target.composing||(e.verification=t.target.value)}}}),e._v(" "),e.clearNum?i("img",{staticClass:"login-admin",attrs:{src:n("7YKH")},on:{click:function(t){e.clearNumber1()}}}):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.AlertChange,expression:"AlertChange"}],staticClass:"login-btn1",class:{active:e.AlertChange},on:{click:function(t){e.setPassword()}}},[e._v("下一步")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.AlertChange,expression:"!AlertChange"}],staticClass:"login-btn",on:{click:function(t){e.Login1()}}},[e._v("下一步")])])},staticRenderFns:[]}},NGBT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("34+y"),a=(n.n(i),n("X+yh")),s=n.n(a),o=n("ZoQJ"),r=n("I3G/"),d=n.n(r);t.default={name:"setPassword",data:function(){return{timer:60,stop:!1,Interval:null,ifRegister:!1,isText:!1,isPsd:!0,loginpwd:"",admin:"",verification:"",loginAlert:!1,AlertChange:!1,clearNum:!1}},watch:{verification:function(){""!=this.admin&&""!=this.verification?this.AlertChange=!0:this.AlertChange=!1,""!=this.verification?this.clearNum=!0:this.clearNum=!1}},mounted:function(){this.getIphone()},methods:{clearNumber1:function(){this.verification=""},getIphone:function(){this.admin=window.localStorage.getItem("mobile").replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")},Login1:function(e){""==this.verification.length&&s()({message:"请输入验证码",duration:3e3,className:"toast"})},setPassword:function(){var e=this,t=HOST_HDPUSER+"/user/verifyCode";this.loginCode=window.localStorage.getItem("loginCode"),this.$resource(t).get({phonenum:window.localStorage.getItem("mobile"),code:this.verification}).then(function(t){200==t.status&&(200==t.data.code?(window.localStorage.setItem("codeForget",e.verification),window.localStorage.setItem("numberForget",window.localStorage.getItem("mobile")),window.location.href=window.location.href.substring(0,window.location.href.lastIndexOf("/")+1)+"setPassword"):s()({message:t.data.message,duration:3e3,className:"toast"}))})},back:function(){window.location.href=window.location.href.substring(0,window.location.href.lastIndexOf("/")+1)+"account"},update:function(){this.timer<=0?(this.timer=60,clearInterval(this.Interval),this.stop=!1):this.timer--},startTimer:function(){var e=this;this.stop=!0,1==this.stop?this.Interval=setInterval(this.update,1e3):clearInterval(this.Interval),this.admin=window.localStorage.getItem("mobile");var t=void 0,n=Object(o.g)("2016091011111990","1234567890123456",this.admin);d.a.http.interceptors.push(function(e,t){e.headers.set("digest",n),t(function(e){return e})}),this.$http.post(HOST_HDPUSER+"/user/getToken").then(function(e){t=e.body.respBody}).then(function(n){var i=e.admin+"_"+(new Date).getTime(),a=Object(o.g)(t,"1234567890123456",i);e.$resource(HOST_HDPUSER+"/user/sendEncryptedMessage").get({phoneNum:encodeURI(a)}).then(function(e){200==e.status&&(console.log(e),200==e.data.code||s()({message:e.data.message,duration:3e3,className:"toast"}))})})},tiShi:function(){var e=/^1[3|4|5|7|8][0-9]{9}$/,t=e.test(this.admin);""==this.admin?s()({message:"请输入手机号",duration:3e3,className:"toast"}):t||s()({message:"请输入正确手机号",duration:3e3,className:"toast"})}}}},Out4:function(e,t,n){var i=n("t9LC");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("03e30460",i,!0)},t9LC:function(e,t,n){t=e.exports=n("FZ+f")(),t.push([e.i,'\n.login-admin[data-v-68301891]{\n  position: absolute;\n  top: 7.3rem;\n  right: 10rem;\n  width: 2rem;\n  height: 2rem;\n}\n.setPassword[data-v-68301891]{\n  width:100%;\n  height:100%;\n  background:#fff;\n}\n.setPassword-img[data-v-68301891]{\n  width:100%;\n  /*position:relative;*/\n  display: block;\n  color: #252525;\n  font-size: 1.8rem;\n  height: 4rem;\n  line-height: 4rem;\n}\n.setPassword-img img[data-v-68301891]{\n  width: 1.2rem;\n  height: 2rem;\n  margin-top: 1rem;\n  position: absolute;\n  left: 1.2rem;\n  /*margin-left: -28rem;*/\n}\n.setPassword-line[data-v-68301891]{\n  height: 1rem;\n  background: #f4f4f4;\n  width: 100%;\n  border-top:1px solid #d8d8d8;\n}\n.setPassword-input[data-v-68301891]{\n  width:92%;\n  margin-left: 4%;\n  position:relative;\n}\n.setPassword-input .setPassword-input-admin[data-v-68301891]{\n  width:100%;\n  height:5.5rem;\n  padding-left:1.4rem;\n  font-size: 1.4rem;\n  -webkit-box-shadow:0;\n  -webkit-appearance:none;\n  outline:none;\n  box-sizing: border-box;\n  text-align: left;\n  line-height: 5.5rem;\n}\n.setPassword-input-admin[data-v-68301891]{\n  /*background: url("../../assets/images/密码-icon.png") no-repeat 10px ;*/\n  border-bottom:1px solid #acacac;\n  width: 1.1rem;\n  height: 1.5rem;\n}\n.setPassword-input-psd[data-v-68301891]{\n  border-bottom:1px solid #acacac;\n  /*background: url("../../assets/images/手机-icon.png") no-repeat 10px;*/\n  width: 1.1rem;\n  height: 1.5rem;\n}\n.active[data-v-68301891]{\n  background:#f9be00;\n}\n.login-btn[data-v-68301891] {\n  width: 92%;\n  height: 4.4rem;\n  background: #d8d8d8;\n  font-size: 1.7rem;\n  color: #fff;\n  letter-spacing: 0.2rem;\n  text-align: center;\n  line-height: 4.4rem;\n  margin-left: 4%;\n  margin-top: 2.5rem;\n  border-radius: 0.2rem;\n}\n.login-btn1[data-v-68301891] {\n  width: 92%;\n  height: 4.4rem;\n  background: #f9be00;\n  font-size: 1.7rem;\n  color: #fff;\n  letter-spacing: 0.2rem;\n  text-align: center;\n  line-height: 4.4rem;\n  margin-left: 4%;\n  margin-top: 2.5rem;\n  border-radius: 0.2rem;\n}\n.login-btn-time[data-v-68301891]{\n  height: 2.5rem;\n  float: right;\n  /*border: 1px solid #f9be00;*/\n  /*background: #fff;*/\n  border-radius: 0.4rem;\n  color: #f9be00;\n  line-height: 2.5rem;\n  font-size: 1.4rem;\n  position: absolute;\n  right: 0;\n  top:7rem;\n  width: 8rem;\n  text-align: center;\n}\n.login-btn-time1[data-v-68301891]{\n  height: 2.5rem;\n  float: right;\n  /*border: 1px solid #d8d8d8;*/\n  /*background: #f4f4f4;*/\n  border-radius: 0.4rem;\n  color: #858585;\n  line-height: 2.5rem;\n  font-size: 1.4rem;\n  position: absolute;\n  right: 0;\n  top:7rem;\n  width: 8rem;\n  text-align: center;\n}\n',""])}});